---
description: 數組
---

# 陣列

## 簡介

* 陣列是一個容器，它在一塊**連續空間記憶體**中，存儲了一系列的**同樣類型**的資料。
* 陣列中元素的佔用空間大小必須是**編譯期確定**的。
* 陣列本身所容納的元素個數也必須是編譯期確定的，執行階段不可變。如
* 果需要使用變長的容器，可以使用標準庫中的Vec/LinkedList等。
* 陣列類型的表示方式為**\[T:n\]**。其中T代表元素類型；n代表元素個數；它必須是編譯期常量整數；中間用分號隔開。
* 對陣列內部元素的訪問，可以使用中括弧索引的方式。Rust支援usize類型的索引的陣列，**索引從0開始計數**。

```rust
fn main() {
    // 固定長度的陣列
    let xs: [i32; 5] = [1, 2, 3, 4, 5];
    println!("{:?}", xs);
    // 所有的元素,可使用以下語法初始為同個的值
    // 類別可省略由編譯器自動推導
    let ys = [2; 10];
    println!("{:?}", ys);
}
```

在Rust中，對於兩個陣列類型，只有元素類型和元素個數都完全相同，這兩個陣列才是同類型的。陣列與指標之間不能隱式轉換。同類型的陣列之間可以互相賦值。

```rust
fn main() {
    let mut xs: [i32; 5] = [1, 2, 3, 4, 5];
    let ys: [i32; 5] = [6, 7, 8, 9, 10];
    xs = ys;    // 所有權轉移
    println!("new array {:?}", xs);
    
    let zs = [0; 6];
    // xs = zs; // error, 長度不同的陣列不可賦值
    
    let ds = [0_f32; 5];
    // xs = ds; // error, 類別不同的陣列不可賦值
}
```

