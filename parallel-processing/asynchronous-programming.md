# 非同步\(異步\)程式設計

## 簡介

除了順序執行和平行執行的模型之外，還有第三種模型，叫做非同步\(異步\)模型，這是事件驅動模型的基礎。異步活動的執行模型可以只有一個單一的主控制流，能在單核心系統和多核心系統中執行。

在平行執行的異步模型中，許多任務\(task\)被穿插在同一時間線上，所有的任務都由一個控制流執行（單一執行緒）。任務的執行可能被暫停或恢復，中間的這段時間執行緒將會去執行其他任務。

任務（不同的顏色表示不同的任務）可能被其他任務插入，但是都處在同一個執行緒下。當某一個任務執行的時候，其他的任務都暫停了。與多執行緒編程模型很大的一點不同是， **多執行緒由作業系統決定在時間線上什麼時候掛起某個活動或恢復某個活動，而在異步平行模型中，程式設計師必須假設執行緒可能在任何時間被掛起和替換**。

![&#x7570;&#x6B65;&#x6A21;&#x578B;&#xFF0C;&#x55AE;&#x57F7;&#x884C;&#x7DD2;](../.gitbook/assets/asynchronous-programming-model-min.png)

## python的asyncio

Python是3.4以後，在標準上逐步加入了asyncio、async與await等支援。asyncio本身主要有兩個對象：直接使用（end-user）的開發者與框架設計者。龐大的API文件中，大部份都是給框架設計者看的，直接使用的開發者其實不用瞭解那麼多。

```python
# 最簡單的async模型
import asyncio

async def main():
    await asyncio.sleep(1.0)
    print('done')
    asyncio.run(main())
```



## 參考資料

* [\[林信良\] asyncio由簡入繁](https://www.ithome.com.tw/voice/138875)





